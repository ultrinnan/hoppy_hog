{"version":3,"sources":["script.js"],"names":["jQuery","document","ready","$","vh","window","innerHeight","documentElement","style","setProperty","fancybox","buttons","hog","getElementById","addEventListener","evt","angle","gamma","scroller","scroll","scrollTop","n","animate","duration","step","a","html","elem","easing","el","allElements","getElementsByTagName","windowHeight","elems","i","length","getBoundingClientRect","top","classList","add","remove","inViewport","allSecs","nav","allDots","allVis","getElementsByClassName","dotCreate","createElement","id","href","setAttribute","appendChild","buildNav","clientHeight","dotActive","onscroll","scrollMe","e","anchor","currentTarget","dataset","sec","destination","easings","linear","t","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","start","pageYOffset","startTime","performance","now","Date","getTime","documentHeight","Math","max","body","scrollHeight","offsetHeight","destinationOffset","offsetTop","destinationOffsetToScroll","round","time","min","timeFunction","ceil","requestAnimationFrame","scrollIt","querySelector","preventDefault","dotNav","slick","slidesToShow","slidesToScroll","autoplay","dots","dotsClass","arrows","infinite","speed"],"mappings":"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","file":"main.min.js","sourcesContent":["/*jshint esversion: 6 */\n\njQuery(document).ready(function($) {\n\n// First we get the viewport height and we multiple it by 1% to get a value for a vh unit\n    let vh = window.innerHeight * 0.01;\n// Then we set the value in the --vh custom property to the root of the document\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\n    $('[data-fancybox=\"images\"]').fancybox({\n        buttons : [\n            // 'slideShow',\n            // 'share',\n            // 'zoom',\n            // 'fullScreen',\n            'close'\n        ],\n        // thumbs : {\n        //   autoStart : true\n        // }\n    });\n\n// ---------------\n\n    let hog = document.getElementById('hog');\n// if (window.DeviceOrientationEvent) {\n    window.addEventListener('deviceorientation', rotateBeer);\n// }\n    function rotateBeer(evt) {\n        let angle = (-evt.gamma/2<-45)?-45:(-evt.gamma/2>45)?45:-evt.gamma/2;\n        hog.style.setProperty('--angle', angle +'deg');\n    }\n\n// --------------\n\n// бегущие цифры по скролу -------\n    let scroller = true;\n    $(window).scroll(function () {\n        if (scroller===true) {\n            if( $(window).scrollTop() > 300 ) {\n                $({ n: 1 }).animate({ n: 25 }, {\n                    duration: 3000,\n                    step: function (a) {\n                        $(\".ben_years\").html(a | 0);\n                    }\n                });\n                $({ n: 1 }).animate({ n: 20 }, {\n                    duration: 3000,\n                    step: function (a) {\n                        $(\".ben_time\").html(a | 0);\n                    }\n                });\n                $({ n: 1 }).animate({ n: 17 }, {\n                    duration: 3000,\n                    step: function (a) {\n                        $(\".ben_parts\").html(a | 0);\n                    }\n                });\n                $({ n: 1 }).animate({ n: 5587 }, {\n                    duration: 3000,\n                    step: function (a) {\n                        $(\".ben_tickets\").html(a | 0);\n                    }\n                });\n                scroller = false;\n            }\n        }\n    });\n// бегущие цифры по скролу end ------------\n\n// -------------\n\n//  dot nav\n    let dotNav = (elem, easing) => {\n        function scrollIt(destination, duration = 200, easing = 'linear') {\n            const easings = {\n                linear(t) { return t; },\n                easeInQuad(t) { return t * t; },\n                easeOutQuad(t) { return t * (2 - t); },\n                easeInOutQuad(t) { return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t; },\n                easeInCubic(t) { return t * t * t; },\n                easeOutCubic(t) { return (--t) * t * t + 1; },\n                easeInOutCubic(t) { return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1; },\n                easeInQuart(t) { return t * t * t * t; },\n                easeOutQuart(t) { return 1 - (--t) * t * t * t; },\n                easeInOutQuart(t) { return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t; },\n                easeInQuint(t) { return t * t * t * t * t; },\n                easeOutQuint(t) { return 1 + (--t) * t * t * t * t; },\n                easeInOutQuint(t) { return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t; }\n            };\n            const start = window.pageYOffset;\n            const startTime = 'now' in window.performance ? performance.now() : new Date().getTime();\n            const documentHeight = Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight);\n            const windowHeight = window.innerHeight || document.documentElement.clientHeight || document.getElementsByTagName('body')[0].clientHeight;\n            const destinationOffset = typeof destination === 'number' ? destination : destination.offsetTop;\n            const destinationOffsetToScroll = Math.round(documentHeight - destinationOffset < windowHeight ? documentHeight - windowHeight : destinationOffset);\n            if ('requestAnimationFrame' in window === false) {\n                window.scroll(0, destinationOffsetToScroll);\n                // if (callback) {\n                //     callback();\n                // }\n                return;\n            }\n            function scroll() {\n                const now = 'now' in window.performance ? performance.now() : new Date().getTime();\n                const time = Math.min(1, ((now - startTime) / duration));\n                const timeFunction = easings[easing](time);\n                window.scroll(0, Math.ceil((timeFunction * (destinationOffsetToScroll - start)) + start));\n                if (window.pageYOffset === destinationOffsetToScroll) {\n                    // if (callback) {\n                    //     callback();\n                    // }\n                    return;\n                }\n                requestAnimationFrame(scroll);\n            }\n            scroll();\n        }\n\n        //  in viewport\n\n        const inViewport = (el) => {\n            let allElements = document.getElementsByTagName(el);\n            let windowHeight = window.innerHeight;\n            const elems = () => {\n                for (let i = 0; i < allElements.length; i++) {  //  loop through the sections\n                    let viewportOffset = allElements[i].getBoundingClientRect();  //  returns the size of an element and its position relative to the viewport\n                    let top = viewportOffset.top;  //  get the offset top\n                    if(top < windowHeight){  //  if the top offset is less than the window height\n                        allElements[i].classList.add('in-viewport');  //  add the class\n                    } else{\n                        allElements[i].classList.remove('in-viewport');  //  remove the class\n                    }\n                }\n            };\n            elems();\n            window.addEventListener('scroll', elems);\n        };\n        inViewport('section');\n\n        //  dot nav\n\n        const allSecs = document.getElementsByTagName(elem);\n        const nav = document.getElementById('dot-nav');\n        const scrollSpeed = '1000';\n        let allVis = document.getElementsByClassName('in-viewport'),\n            allDots;\n        for (let i = 0; i < allSecs.length; i++) {\n            allSecs[i].classList.add('section-' + i);\n        }\n\n        //  add the dots\n\n        const buildNav = () => {\n            for (let i = 0; i < allSecs.length; i++) {\n                const dotCreate = document.createElement('a');\n                dotCreate.id = 'dot-' + i;\n                dotCreate.classList.add('dots');\n                dotCreate.href = '#';\n                dotCreate.setAttribute('data-sec', i);\n                nav.appendChild(dotCreate);\n            }\n        };\n        buildNav();\n\n        //  nav position\n\n        let navHeight = document.getElementById('dot-nav').clientHeight;\n        let hNavHeight = navHeight / 2;\n        // document.getElementById('dot-nav').style.top = 'calc(50% - ' + hNavHeight + 'px)';\n\n        //  onscroll\n\n        const dotActive = () => {\n            allVis = document.getElementsByClassName('in-viewport');\n            allDots = document.getElementsByClassName('dots');\n            let visNum = allVis.length;\n            let a = visNum - 1;\n            for (let i = 0; i < allSecs.length; i++) {\n                allDots[i].classList.remove('active');\n            }\n            document.getElementById('dot-' + a).classList.add('active');\n        };\n        dotActive();\n        window.onscroll = function(){ dotActive(); };\n\n        //  click stuff\n\n        const scrollMe = (e) => {\n            let anchor = e.currentTarget.dataset.sec;\n            scrollIt(document.querySelector('.section-' + anchor), scrollSpeed, easing);\n            e.preventDefault();\n        };\n\n        allDots = document.getElementsByClassName('dots');\n        for (let i = 0; i < allDots.length; i++) {\n            allDots[i].addEventListener('click', scrollMe);\n        }\n\n    };\n\n    dotNav('section', 'easeInOutCubic');\n\n    $('.articles-screen .wrapper').slick({\n        // centerMode: true,\n        slidesToShow: 1,\n        slidesToScroll: 1,\n        autoplay: true,\n        dots: true,\n        dotsClass: 'slick-dots',\n        arrows: true,\n        infinite: true,\n        speed: 1000,\n    });\n});\n"]}